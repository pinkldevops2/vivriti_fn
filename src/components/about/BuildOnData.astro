---
import LogoShape from '../../../public/Vivrithi_logo.svg';
const { nonce } = Astro.locals;
---

<div
  class="bg-[#3bbae212] w-full xl:px-0 md:px-[40px] md:py-[70px] py-[40px] px-[20px] mt-16"
>
  <div class="container mx-auto">
    <h2 class="text-[28px] sm:text-[35px] md:text-4xl font-heading leading-[120%] mb-4 gradient-text w-full">
            Built on data, understanding, and partnership
        </h2>
    <div class="w-full rounded-lg divide-y divide-[#F58220]">
      <!-- Accordion Item 1 -->
      <div class="accordion-item">
        <button
          class="accordion-header w-full px-4 py-6 text-left transition relative"
        >
          <div class="">
            <h4 class="text-[17px] text-[#9D9D9D] mb-4">Step 1: </h4>
            <div class="flex flex-col md:flex-row justify-between gap-5">
              <h5 class="text-[17px] text-[#1B1B1B] font-normal uppercase">Data-driven evaluation</h5>
              <h5 class="text-[17px] text-[#1B1B1B] font-semibold">We take a holistic view of your business.</h5>
            </div>
          </div>
          <a
            data-reveal
            class="top-4 right-4 contact_cta py-2 px-2 text-white hover:text-blue-600 transition absolute"
          >
            <span>
              <svg
                class="transition-transform duration-300"
                xmlns="http://www.w3.org/2000/svg"
                width="15"
                height="11"
                viewBox="0 0 15 11"
                fill="none"
              >
                <path
                  d="M13.5 1L7 9L1 1"
                  stroke="white"
                  stroke-width="2"
                  stroke-linecap="round"></path>
              </svg>
            </span>
          </a>
        </button>
        <div
          class="accordion-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out "
        >
          <div class="p-6 bg-[#F8F8F8] border-1 border-dashed border-[#F58220] grid grid-cols-1 sm:grid-cols-3 gap-7">
           <div class="flex gap-3 items-start">
            <img src={LogoShape.src} alt="Vivrithi" class="min-w-[50px] h-auto" />
            <p class="font-normal text-[17px] text-[#1B1B1B]">3 yearsâ€™ financials, borrowing profile, and shareholding patterns</p>
           </div>
            <div class="flex gap-3 items-start">
            <img src={LogoShape.src} alt="Vivrithi" class="min-w-[50px] h-auto" />
            <p class="font-normal text-[17px] text-[#1B1B1B]">Profit and loss, balance sheets, working capital, bank statements, and GST filings</p>
           </div>
            <div class="flex gap-3 items-start">
            <img src={LogoShape.src} alt="Vivrithi" class="min-w-[50px] h-auto" />
            <p class="font-normal text-[17px] text-[#1B1B1B]">Key performance indicators and historical trends to build a full picture</p>
           </div>
          </div>
        </div>
      </div>

      <!-- Accordion Item 2 -->
      <div class="accordion-item">
        <button
          class="accordion-header w-full px-4 py-6 text-left transition relative"
        >
          <div class="">
            <h4 class="text-[17px] text-[#9D9D9D] mb-4">Step 2: </h4>
            <div class="flex flex-col md:flex-row justify-between gap-5">
              <h5 class="text-[17px] text-[#1B1B1B] font-normal uppercase">Understanding your needs</h5>
              <h5 class="text-[17px] text-[#1B1B1B] font-semibold">We meet you where you are.</h5>
            </div>
          </div>
          <a
            data-reveal
            class="top-4 right-4 contact_cta py-2 px-2 text-white hover:text-blue-600 transition absolute"
          >
            <span>
              <svg
                class="transition-transform duration-300"
                xmlns="http://www.w3.org/2000/svg"
                width="15"
                height="11"
                viewBox="0 0 15 11"
                fill="none"
              >
                <path
                  d="M13.5 1L7 9L1 1"
                  stroke="white"
                  stroke-width="2"
                  stroke-linecap="round"></path>
              </svg>
            </span>
          </a>
        </button>
        <div
          class="accordion-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out "
        >
          <div class="p-6 bg-[#F8F8F8] border-1 border-dashed border-[#F58220] grid grid-cols-1 sm:grid-cols-3 gap-7">
           <div class="flex gap-3 items-start">
            <img src={LogoShape.src} alt="Vivrithi" class="min-w-[50px] h-auto" />
            <p class="font-normal text-[17px] text-[#1B1B1B]">Stage 1: Meeting your leadership team on-site to understand your strategy</p>
           </div>
            <div class="flex gap-3 items-start">
            <img src={LogoShape.src} alt="Vivrithi" class="min-w-[50px] h-auto" />
            <p class="font-normal text-[17px] text-[#1B1B1B]">Stage 2: Visiting operational sites for deeper insights into your business model</p>
           </div>
            <div class="flex gap-3 items-start">
            <img src={LogoShape.src} alt="Vivrithi" class="min-w-[50px] h-auto" />
            <p class="font-normal text-[17px] text-[#1B1B1B]">Stage 3: Engaging with stakeholders to build a well-rounded understanding</p>
           </div>
          </div>
        </div>
      </div>

      <!-- Accordion Item 3 -->
     <div class="accordion-item">
        <button
          class="accordion-header w-full px-4 py-6 text-left transition relative"
        >
          <div class="">
            <h4 class="text-[17px] text-[#9D9D9D] mb-4">Step 3: </h4>
            <div class="flex flex-col md:flex-row justify-between gap-5">
              <h5 class="text-[17px] text-[#1B1B1B] font-normal uppercase">Partnership-driven solutions</h5>
              <h5 class="text-[17px] text-[#1B1B1B] font-semibold">We co-create financing plans tailored to your needs.</h5>
            </div>
          </div>
          <a
            data-reveal
            class="top-4 right-4 contact_cta py-2 px-2 text-white hover:text-blue-600 transition absolute"
          >
            <span>
              <svg
                class="transition-transform duration-300"
                xmlns="http://www.w3.org/2000/svg"
                width="15"
                height="11"
                viewBox="0 0 15 11"
                fill="none"
              >
                <path
                  d="M13.5 1L7 9L1 1"
                  stroke="white"
                  stroke-width="2"
                  stroke-linecap="round"></path>
              </svg>
            </span>
          </a>
        </button>
        <div
          class="accordion-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
        >
          <div class="p-6 bg-[#F8F8F8] border-1 border-dashed border-[#F58220] grid grid-cols-1 sm:grid-cols-3 gap-7">
           <div class="flex gap-3 items-start">
            <img src={LogoShape.src} alt="Vivrithi" class="min-w-[50px] h-auto" />
            <p class="font-normal text-[17px] text-[#1B1B1B]">Use insights and data to design strategiespatterns</p>
           </div>
            <div class="flex gap-3 items-start">
            <img src={LogoShape.src} alt="Vivrithi" class="min-w-[50px] h-auto" />
            <p class="font-normal text-[17px] text-[#1B1B1B]">Navigate complexities with structured, practical solutions</p>
           </div>
            <div class="flex gap-3 items-start">
            <img src={LogoShape.src} alt="Vivrithi" class="min-w-[50px] h-auto" />
            <p class="font-normal text-[17px] text-[#1B1B1B]">Implement plans quickly without compromising accuracy</p>
           </div>
           <div class="flex gap-3 items-start">
            <img src={LogoShape.src} alt="Vivrithi" class="min-w-[50px] h-auto" />
            <p class="font-normal text-[17px] text-[#1B1B1B]">Provide ongoing guidance as your business evolves</p>
           </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<style nonce={nonce}>
  .absolute{
    position: absolute!important;
  }
</style>
<script nonce={nonce} is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const accordions = document.querySelectorAll(".accordion-item");

    // --- Open the first accordion by default ---
    if (accordions.length > 0) {
      const first = accordions[0];
      const firstContent = first.querySelector(".accordion-content");
      const firstIcon = first.querySelector("svg");
      firstContent.classList.remove("max-h-0");
      firstContent.classList.add("max-h-[1000px]");
      firstIcon.classList.add("rotate-180");
    }

    // --- Add toggle logic for each accordion ---
    accordions.forEach((item) => {
      const header = item.querySelector(".accordion-header");
      const content = item.querySelector(".accordion-content");
      const icon = header.querySelector("svg");

      header.addEventListener("click", () => {
        const isOpen = content.classList.contains("max-h-[1000px]");

        // Close all accordions
        accordions.forEach((i) => {
          i.querySelector(".accordion-content").classList.remove(
            "max-h-[1000px]"
          );
          i.querySelector(".accordion-content").classList.add("max-h-0");
          i.querySelector("svg").classList.remove("rotate-180");
        });

        // Open clicked one if it wasn't open already
        if (!isOpen) {
          content.classList.remove("max-h-0");
          content.classList.add("max-h-[1000px]");
          icon.classList.add("rotate-180");
        }
      });
    });
  });
</script>
