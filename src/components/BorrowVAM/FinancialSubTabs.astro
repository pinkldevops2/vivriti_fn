---
import LogoShape from "../../../public/logowhite.svg";
import LogoAnimation from "../../components/common/logoglow2.astro";
---

<div class="w-full  md:py-[70px] py-[40px]">
  <div class="container mx-auto px-4 xl:px-4 lg:px-8">

    <!-- Heading -->
    <div class="flex flex-col md:flex-row justify-between md:gap-10">
      <h2 class="text-[28px] md:text-[35px] font-heading leading-[120%] mb-4 gradient-text w-full md:w-5/12">
       Enabling expansion with 
flexible institutional capital
      </h2>
      <p class="font-normal text-[17px] w-full md:w-8/12 max-w-[674px]">
       Designed for small and mid-sized financial institutions, VAMâ€™s structured capital solutions provide the resources needed to grow, manage liquidity, and optimise balance sheets. Access professionally managed pools of capital with flexibility and strategic oversight. 

      </p>
    </div>

    <!-- MOBILE ACCORDION -->
    <div class="md:hidden mt-6 space-y-4">

      <!-- Accordion Item 1 -->
      <div class="inst-accordion rounded border-dashed border-[#F58220] border">
        <button class="inst-acc-btn w-full py-4 px-4 flex justify-between items-center text-[#F58220] font-medium text-[16px]">
          Non-Convertible Debentures
          <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="10" viewBox="0 0 16 10" fill="none">
              <path d="M0.707 0.707L7.707 7.707L14.707 0.707" stroke="#666" stroke-width="2"/>
            </svg>
          </span>
        </button>
        <div class="inst-acc-content p-5 bg-[#F8F8F8]">
          <p class="mb-4">Raise capital through non-convertible debentures from professionally managed, diversified pools of capital. Designed for small and mid-sized institutions, these instruments help fund growth, expand operations, and bridge short-term liquidity gaps with flexible repayment schedules.</p>
          <p><strong>Tenor:</strong>  1 to 3 years</p>
        </div>
      </div>

      <!-- Accordion Item 2 -->
      <div class="inst-accordion rounded border-dashed border-[#F58220] border">
        <button class="inst-acc-btn w-full py-4 px-4 flex justify-between items-center text-[#F58220] font-medium text-[16px]">
          Commercial Papers
          <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="10" viewBox="0 0 16 10" fill="none">
              <path d="M0.707 0.707L7.707 7.707L14.707 0.707" stroke="#666" stroke-width="2"/>
            </svg>
          </span>
        </button>
        <div class="inst-acc-content p-5 bg-[#F8F8F8]">
          <p class="mb-4">Address short-term funding needs efficiently by issuing commercial papers and tapping into professionally managed, diversified capital pools. Ideal for managing cash flow flexibly without relying on rigid financing avenues.</p>
          <p><strong>Tenor:</strong> 90 days to 1 year</p>
        </div>
      </div>

      <!-- Accordion Item 3 -->
      <div class="inst-accordion rounded border-dashed border-[#F58220] border">
        <button class="inst-acc-btn w-full py-4 px-4 flex justify-between items-center text-[#F58220] font-medium text-[16px]">
          Securitisation and Direct Assignments
          <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="10" viewBox="0 0 16 10" fill="none">
              <path d="M0.707 0.707L7.707 7.707L14.707 0.707" stroke="#666" stroke-width="2"/>
            </svg>
          </span>
        </button>
        <div class="inst-acc-content p-5 bg-[#F8F8F8]">
          <p class="mb-4">Convert your retail loans into tradable securities through pooled assets using pass-through certificates or direct assignments. Unlock capital, reduce risk, and enhance cash flow with competitive pricing and tailored structuring.</p>
         
          <p><strong>Tenor:</strong> 6 to 60 months</p>
        </div>
      </div>

    </div>

    <!-- DESKTOP TABS -->
    <div class="hidden md:flex flex-col md:flex-row w-full items-start justify-between mt-10 gap-5">
      <div class="flex md:w-2/4 items-start pl-7">
        <div class="relative -left-[13px] min-w-[240px] flex flex-col gap-y-2">
          <button class="inst-tab-btn py-2 px-7 text-left text-[14px] text-[#F58220] font-medium active-tab block size-fit uppercase">Non-Convertible Debentures</button>
          <button class="inst-tab-btn py-2 px-7 text-left text-[14px] text-[#F58220] font-medium block size-fit uppercase">Securitisation and Commercial Papers</button>
          <button class="inst-tab-btn py-2 px-7 text-left text-[14px] text-[#F58220] font-medium block size-fit uppercase">Securitisation and Direct Assignments</button>
        </div>
        <div class="w-full md:flex justify-start hidden ">
          <LogoAnimation />
        </div>
      </div>

      <div class="w-full flex-1 lg:max-w-[674px] lg:min-w-[674px]">
        <!-- Tab Content 1 -->
        <div class="inst-tab-content bg-[#F8F8F8] p-10 border border-dashed border-[#F58220] opacity-100 translate-y-0">
          <h2 class="font-semibold mb-6">Non-Convertible Debentures</h2>
          <p class="mb-8">Raise capital through non-convertible debentures from professionally managed, diversified pools of capital. Designed for small and mid-sized institutions, these instruments help fund growth, expand operations, and bridge short-term liquidity gaps with flexible repayment schedules.</p>
          <p>Tenor:<strong class="pl-12"> 1 to 3 years</strong></p>
        </div>

        <!-- Tab Content 2 -->
        <div class="inst-tab-content hidden opacity-0 -translate-y-4 bg-[#F8F8F8] p-10 border border-dashed border-[#F58220]">
          <h2 class="font-semibold mb-6">Securitisation and Commercial Papers</h2>
          <p class="mb-8">Address short-term funding needs efficiently by issuing commercial papers and tapping into professionally managed, diversified capital pools. Ideal for managing cash flow flexibly without relying on rigid financing avenues.</p>
          <p>Tenor:<strong class="pl-12"> 90 days to 1 year</strong></p>
        </div>

        <!-- Tab Content 3 -->
        <div class="inst-tab-content hidden opacity-0 -translate-y-4 bg-[#F8F8F8] p-10 border border-dashed border-[#F58220]">
          <h2 class="font-semibold mb-6">Securitisation and Direct Assignments</h2>
          <p class="mb-4">Convert retail loans into tradable securities through pooled assets using pass-through certificates or direct assignments. Unlock capital, reduce risk, and enhance cash flow with competitive pricing and tailored structuring.</p>
          
          <p>Tenor:<strong class="pl-12"> 6 to 60 months</strong></p>
        </div>

      </div>
    </div>

  </div>

<style>
/* MOBILE ACCORDION */
.inst-accordion {
  border-radius: 6px;
  overflow: hidden;
}
.inst-acc-content {
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  padding: 0;
  transition: max-height 0.45s ease, opacity 0.35s ease, padding 0.35s ease;
  border-top: 1px dashed #F58220;
}
.inst-acc-content.open {
  opacity: 1;
  max-height: 1000px;
  padding: 1rem;
}
.inst-acc-btn .icon svg {
  transition: transform 0.35s ease;
  transform-origin: center;
}
.inst-acc-btn .icon.rotate-up svg {
  transform: rotate(-180deg);
}

/* DESKTOP TABS */
.inst-tab-content {
  transition: opacity 0.45s ease, transform 0.45s ease;
}
button{
  left:-15px;
  position: relative;
  transition: all .3s ease-in-out;
}
button:not(.active-tab):hover {
    color: #fff !important;
    background: linear-gradient(
      32deg,
      rgba(59, 186, 226, 1) 0%,
      rgba(0, 1, 138, 1) 100%
    );
    -webkit-background-clip: initial;
    -webkit-text-fill-color: initial;
    position: relative;
    left:-15px;
    cursor: pointer;
  }
/* Active tab style */
button.active-tab {
  background: linear-gradient(32deg, rgba(0,1,138,1) 0, rgba(59,186,226,1) 100%);
  color: white !important;
  left: -15px;
    position: relative;
}
@media (max-width: 768px) {
button.active-tab, button {
   left: 0px;
   border-radius: 5px 5px 0 0;
   background: transparent;
   color:#F58220!important;
}
button:not(.active-tab):hover {
   left: 0px;
    background: transparent;
     color:#F58220!important;
}
}
</style>

<script is:inline>
document.addEventListener("DOMContentLoaded", () => {

  /* -------------------- MOBILE ACCORDION -------------------- */
  const instAccordions = document.querySelectorAll(".inst-accordion");
  instAccordions.forEach((acc, index) => {
    const btn = acc.querySelector(".inst-acc-btn");
    const content = acc.querySelector(".inst-acc-content");
    const icon = btn.querySelector(".icon");

    // Open first by default
    if(index === 0) {
      content.classList.add("open");
      icon.classList.add("rotate-up");
    }

    btn.addEventListener("click", () => {
      const isOpen = content.classList.contains("open");

      // Close all others
      instAccordions.forEach((other, i) => {
        if (i !== index) {
          other.querySelector(".inst-acc-content").classList.remove("open");
          other.querySelector(".inst-acc-btn .icon").classList.remove("rotate-up");
        }
      });

      // Toggle current
      content.classList.toggle("open");
      icon.classList.toggle("rotate-up");
    });
  });

  /* -------------------- DESKTOP TABS -------------------- */
  const instTabButtons = document.querySelectorAll(".inst-tab-btn");
  const instTabContents = document.querySelectorAll(".inst-tab-content");

  // Make first tab active
  instTabButtons[0].classList.add("active-tab");
  instTabContents[0].classList.remove("hidden", "opacity-0", "-translate-y-4");
  instTabContents[0].classList.add("opacity-100", "translate-y-0");

  instTabButtons.forEach((btn, index) => {
    btn.addEventListener("click", () => {

      instTabButtons.forEach(b => b.classList.remove("active-tab"));

      instTabContents.forEach(c => {
        c.classList.add("hidden", "opacity-0", "-translate-y-4");
        c.classList.remove("opacity-100", "translate-y-0");
      });

      btn.classList.add("active-tab");

      const active = instTabContents[index];
      active.classList.remove("hidden");
      setTimeout(() => {
        active.classList.remove("opacity-0", "-translate-y-4");
        active.classList.add("opacity-100", "translate-y-0");
      }, 20);
    });
  });

});
</script>
