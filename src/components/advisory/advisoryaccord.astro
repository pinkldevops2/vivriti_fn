---
import LogoShape from "../../../public/Vivrithi_logo.svg";
import LogoShape1 from "../../../public/logowhite.svg";
import LogoAnimation from "../../components/common/logoglow.astro";
const { services = [],Title,Description } = Astro.props;

---

<div class="w-full xl:px-0 md:px-[0px] md:pt-[70px] pt-[40px]">
  <div class="container mx-auto ">
    <div
      class="flex flex-col md:flex-row justify-between md:gap-10 mb-4 md:mb-20 px-4 xl:px-4 lg:px-8"
    >
      <h2
        class="text-[28px] md:text-[35px] md:text-4xl font-heading leading-[120%] mb-4 gradient-text w-full md:w-4/12"
      >
        {Title}  
      </h2>
      <p data-reveal class="fade-up font-normal text-[17px] w-full md:w-9/12 max-w-[720px] pr-7"set:html={Description}>
      </p>
    </div>
  </div>
  <div class="relative overflow-hidden">
    <div class="container mx-auto">
    <div
      class="flex flex-col md:flex-row justify-between items-center md:gap-10 mb-4 md:mb-20 px-4 xl:px-4 lg:px-8"
    >
      <div class="w-full md:w-9/12">
        <h4 class="uppercase text-[14px] text-[#F58220] mb-4">Services</h4>
        <div class="w-full advisoryaccordion relative z-2">
          <!-- Item 1 â€” OPEN BY DEFAULT -->
              {services.length > 0 ? (
  services.map((service, index) => (
    <div key={index}>
      <div class={`accordion-item ${index === 0 ? "accordion-active" : ""}`} id={`box-${index + 1}`}>
        <button
          class="w-full py-3 flex justify-between accordion-header gap-4"
          data-target={`item-${index + 1}`}
          data-box={`box-${index + 1}`}
        >
          <h2 class="uppercase text-left">{service.title}</h2>
          <h3 class="font-medium text-[#898989] text-right">{service.subtitle}</h3>
        </button>

        <div
          id={`item-${index + 1}`}
          class="overflow-hidden transition-all duration-300"
          style={`max-height: ${index === 0 ? "200px" : "0"}`}
        >
          <a
            data-reveal
            href="#"
            data-target-slider={`slider-${index + 1}`}
            class="fade-up contact_cta contact_cta-wwhite contact_cta5 flex items-center gap-2 text-white uppercase hover:text-blue-600 transition mb-4 w-full py-3 px-8 justify-center"
          >
            <span data-text="Learn more" class="gradient-text">Learn more</span>
            <img src={LogoShape.src} alt="Vivrithi" class="w-5 h-5" />
          </a>
        </div>
      </div>

      <div class="border-b border-dashed border-[#F58220] my-2"></div>
    </div>
  ))
) : (
  <p>No services available</p>
)}

</div>
    </div>
      <div class="w-full md:w-3/12">
         <div class="w-full md:flex justify-end hidden">
          <LogoAnimation />
        </div> 
    </div>
    </div>
   
  </div>
  <!--  <div class="w-full md:flex justify-end hidden absolute xl:top-15 lg:top-20 -right-10 z-0">
          <img src={LogoShape1.src} class="xl:min-w-[450px] lg:min-w-[400px] h-auto" />
        </div> -->
  </div>
  
</div>

<style>
  .accordion-active {
    color: #fff !important;
    background: linear-gradient(
      32deg,
      rgba(0, 1, 138, 1) 0%,
      rgba(59, 186, 226, 1) 100%
    ) !important;
    position: relative;
    /* left: -15px;
    width: calc(100% + 30px); */
    padding: 0 15px;
  }
  .accordion-active .accordion-header{
    padding-top: 25px;
     padding-bottom: 25px;
  }
  .accordion-active h3{
    color:#fff;
  }
  .contact_cta:hover::before {
    width: 100%;
  }
  .advisoryaccordion .gradient-text{
    font-size: 14px;
  }
  .accordion-item h2{
    text-align: left;
  }

    .accordion-item h3{
    text-align: right;
  }
  @media (max-width: 479px) {
    .accordion-active {
      padding: 0 15px;
    }
  }
</style>

<!-- JS for Toggle -->
<script type="module" src="/src/scripts/advisory/accordion.js"></script>
