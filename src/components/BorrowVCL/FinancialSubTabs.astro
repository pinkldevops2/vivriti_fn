---
//import LogoShape from "../../../public/logowhite.svg";
import LogoAnimation from "../../components/common/logoglow2.astro";
---

<div class="w-full md:py-[70px] py-[40px]">
  <div class="container mx-auto px-4 xl:px-4 lg:px-8">

    <!-- Heading -->
    <div class="flex flex-col md:flex-row justify-between md:gap-10">
      <h2 class="text-[28px] md:text-[35px] font-heading leading-[120%] mb-4 gradient-text w-full md:w-4/12">
        Tailored lending solutions for institutional needs
      </h2>
      <p class="font-normal text-[17px] w-full md:w-8/12 max-w-[674px]">
       Vivriti Capital empowers small and mid-sized financial institutions with financing solutions that enhance liquidity, streamline balance sheets, and support sustainable expansion. Our flexible, competitively priced offerings are crafted to meet the specific needs and challenges of today’s financial organizations.
      </p>
    </div>

    <!-- MOBILE ACCORDION -->
    <div class="md:hidden mt-6 space-y-4">

      <!-- Accordion Item 1 -->
      <div class="inst-accordion rounded border-dashed border-[#F58220] border">
        <button class="inst-acc-btn w-full py-4 px-4 flex justify-between items-center text-[#F58220] font-medium text-[16px]">
          Term Loan
          <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="10" viewBox="0 0 16 10" fill="none">
              <path d="M0.707 0.707L7.707 7.707L14.707 0.707" stroke="#666" stroke-width="2"/>
            </svg>
          </span>
        </button>
        <div class="inst-acc-content p-5 bg-[#F8F8F8]">
          <p class="mb-4">Secure upfront capital with structured repayments to manage short-term funding, maintain liquidity ratios, or expand operations.</p>
          <p>Tenor:<strong class="pl-12"> 3 to 12 months</strong></p>
        </div>
      </div>

      <!-- Accordion Item 2 -->
      <div class="inst-accordion rounded border-dashed border-[#F58220] border">
        <button class="inst-acc-btn w-full py-4 px-4 flex justify-between items-center text-[#F58220] font-medium text-[16px] text-left">
          Securitisation and Direct Assignment
          <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="10" viewBox="0 0 16 10" fill="none">
              <path d="M0.707 0.707L7.707 7.707L14.707 0.707" stroke="#666" stroke-width="2"/>
            </svg>
          </span>
        </button>
        <div class="inst-acc-content p-5 bg-[#F8F8F8]">
          <p class="mb-4">Transform receivables into tradable securities via pass-through certificates or direct assignments. Unlock liquidity, reduce risk, and optimise capital at competitive pricing.</p>
          <p>Tenor: <strong class="pl-12">6 to 60 months</strong></p>
        </div>
      </div>

      <!-- Accordion Item 3 -->
      <div class="inst-accordion rounded border-dashed border-[#F58220] border">
        <button class="inst-acc-btn w-full py-4 px-4 flex justify-between items-center text-[#F58220] font-medium text-[16px]">
          Co-lending
          <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="10" viewBox="0 0 16 10" fill="none">
              <path d="M0.707 0.707L7.707 7.707L14.707 0.707" stroke="#666" stroke-width="2"/>
            </svg>
          </span>
        </button>
        <div class="inst-acc-content p-5 bg-[#F8F8F8]">
          <p class="mb-4">Leverage VCL’s co-lending platform to extend large-scale financing with seamless tech integration, offering tailored loan solutions to meet the diverse needs of your customers.
</p>
          <p class="font-semibold mb-2">Loan Types:</p>
          <ul class="list-disc list-inside mb-4">
            <li>Business loans</li>
            <li>Gold loans</li>
            <li>Microfinance</li>
            <li>Vehicle loans (2W, 4W, commercial)</li>
            <li>Loans against property</li>
            <li>Agricultural loans</li>
          </ul>
          <p>Tenor: <strong class="pl-12">3 to 42 months</strong></p>
        </div>
      </div>

    </div>

    <!-- DESKTOP TABS -->
    <div class="hidden md:flex flex-col md:flex-row w-full items-start justify-between mt-10 gap-5">
      <div class="flex md:w-5/12 items-start pl-7">
        <div class="pt-8 sm:pt-0 relative -left-[13px] max-w-[240px] flex flex-col gap-y-2">
          <button class="inst-tab-btn  py-2 px-7 text-left text-[14px] text-[#F58220] font-medium active-tab block size-fit  uppercase">Term Loan</button>
          <button class="inst-tab-btn  py-2 px-7 text-left text-[14px] text-[#F58220] font-medium block size-fit uppercase">Securitisation and Direct Assignment</button>
          <button class="inst-tab-btn  py-2 px-7 text-left text-[14px] text-[#F58220] font-medium block size-fit  uppercase">Co-lending</button>
        </div>
        <div class="w-full md:flex justify-start hidden ">
          <LogoAnimation />
        </div>
      </div>

      <div class="w-full flex-1 lg:max-w-[674px] lg:min-w-[674px]">
        <!-- Tab Content 1 -->
        <div class="inst-tab-content bg-[#F8F8F8] p-10 border-dashed border-[#F58220] border opacity-100 translate-y-0">
          <h2 class="font-semibold mb-6">Term Loan</h2>
          <p class="mb-8">Secure upfront capital with structured repayments to manage short-term funding, maintain liquidity ratios, or expand operations.</p>
          <p><span class="uppercase">Tenor:</span> <strong class="pl-12">3 to 12 months</strong></p>
        </div>

        <!-- Tab Content 2 -->
        <div class="inst-tab-content hidden opacity-0 -translate-y-4 bg-[#F8F8F8] p-10 border border-dashed border-[#F58220]">
          <h2 class="font-semibold mb-6">Securitisation and Direct Assignment</h2>
          <p class="mb-8">Transform receivables into tradable securities via pass-through certificates or direct assignments. Unlock liquidity, reduce risk, and optimise capital at competitive pricing.</p>
          <p><span class="uppercase">Tenor:</span><strong class="pl-12"> 6 to 60 months</strong></p>
        </div>

        <!-- Tab Content 3 -->
        <div class="inst-tab-content hidden opacity-0 -translate-y-4 bg-[#F8F8F8] p-10 border border-dashed border-[#F58220]">
          <h2 class="font-semibold mb-6">Co-lending</h2>
          <p class="mb-4">Leverage VCL’s co-lending platform to extend large-scale financing with seamless tech integration, offering tailored loan solutions to meet the diverse needs of your customers.</p>
          <p class="font-semibold mb-2">Loan Types:</p>
          <ul class="list-disc list-inside mb-4">
            <li>Business loans</li>
            <li>Gold loans</li>
            <li>Microfinance</li>
            <li>Vehicle loans (2W, 4W, commercial)</li>
            <li>Loans against property</li>
            <li>Agricultural loans</li>
          </ul>
          <p><span class="uppercase">Tenor:</span><strong class="pl-12"> 3 to 42 months</strong></p>
        </div>

      </div>
    </div>

  </div>

<style>
/* MOBILE ACCORDION */
.inst-accordion {
  border-radius: 6px;
  overflow: hidden;
}
.inst-acc-content {
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  padding: 0;
  transition: max-height 0.45s ease, opacity 0.35s ease, padding 0.35s ease;
  border-top: 1px dashed #F58220;
}
.inst-acc-content.open {
  opacity: 1;
  max-height: 1000px;
  padding: 1rem;
}
.inst-acc-btn .icon svg {
  transition: transform 0.35s ease;
  transform-origin: center;
}
.inst-acc-btn .icon.rotate-up svg {
  transform: rotate(-180deg);
}

/* DESKTOP TABS */
.inst-tab-content {
  transition: opacity 0.45s ease, transform 0.45s ease;
}
button{
  left:-15px;
  position: relative;
  transition: all .3s ease-in-out;
}
button:not(.active-tab):hover {
    color: #fff !important;
    background: linear-gradient(
      32deg,
      rgba(59, 186, 226, 1) 0%,
      rgba(0, 1, 138, 1) 100%
    );
    -webkit-background-clip: initial;
    -webkit-text-fill-color: initial;
    position: relative;
    left:-15px;
    cursor: pointer;
  }
/* Active tab style */
button.active-tab {
  background: linear-gradient(32deg, rgba(0,1,138,1) 0, rgba(59,186,226,1) 100%);
  color: white !important;
  left: -15px;
    position: relative;
}
@media (max-width: 768px) {
button.active-tab, button {
   left: 0px;
   border-radius: 5px 5px 0 0;
   background: transparent;
   color:#F58220!important;
}
button:not(.active-tab):hover {
   left: 0px;
    background: transparent;
     color:#F58220!important;
}
}
</style>

<script is:inline>
document.addEventListener("DOMContentLoaded", () => {

  /* -------------------- MOBILE ACCORDION -------------------- */
  const instAccordions = document.querySelectorAll(".inst-accordion");
  instAccordions.forEach((acc, index) => {
    const btn = acc.querySelector(".inst-acc-btn");
    const content = acc.querySelector(".inst-acc-content");
    const icon = btn.querySelector(".icon");

    // Open first by default
    if(index === 0) {
      content.classList.add("open");
      icon.classList.add("rotate-up");
    }

    btn.addEventListener("click", () => {
      const isOpen = content.classList.contains("open");

      // Close all others
      instAccordions.forEach((other, i) => {
        if (i !== index) {
          other.querySelector(".inst-acc-content").classList.remove("open");
          other.querySelector(".inst-acc-btn .icon").classList.remove("rotate-up");
        }
      });

      // Toggle current
      content.classList.toggle("open");
      icon.classList.toggle("rotate-up");
    });
  });

  /* -------------------- DESKTOP TABS -------------------- */
  const instTabButtons = document.querySelectorAll(".inst-tab-btn");
  const instTabContents = document.querySelectorAll(".inst-tab-content");

  // Make first tab active
  instTabButtons[0].classList.add("active-tab");
  instTabContents[0].classList.remove("hidden", "opacity-0", "-translate-y-4");
  instTabContents[0].classList.add("opacity-100", "translate-y-0");

  instTabButtons.forEach((btn, index) => {
    btn.addEventListener("click", () => {

      instTabButtons.forEach(b => b.classList.remove("active-tab"));

      instTabContents.forEach(c => {
        c.classList.add("hidden", "opacity-0", "-translate-y-4");
        c.classList.remove("opacity-100", "translate-y-0");
      });

      btn.classList.add("active-tab");

      const active = instTabContents[index];
      active.classList.remove("hidden");
      setTimeout(() => {
        active.classList.remove("opacity-0", "-translate-y-4");
        active.classList.add("opacity-100", "translate-y-0");
      }, 20);
    });
  });

});
</script>
