---
import MarkedShape from '../../../public/MarkedShape.svg';
import LogoAnimation from '../common/LogoAnim.astro';
---
<div class="bg-white mt-20">
    <div class="container mx-auto px-4">
  <div data-reveal class="fade-up flex flex-wrap">
    <div class="w-full">
      <!-- Column 1 content -->
      <div class="px-8 pb-14 pt-6 border_full_side relative">

    <!-- Paragraph -->
    <div class="pt-[25px] flex justify-start flex-col items-start">
        <h2 class="text-[28px] md:text-[35px] md:text-4xl font-heading leading-snug mb-4 gradient-text">
      Impact by numbers 
    </h2>
    <!-- <p data-reveal class="fade-up font-normal text-[17px] w-3/5">
                Our investment strategies are rooted in deep cash flow analysis and structured solutions tailored to high-grade enterprises that require predictable, risk-adjusted returns.
                </p> -->



  <div class="bg-white flex lg:flex-row  bg-white flex flex-col w-full mt-8 gap-[30px]">
<div class="w-full lg:w-1/2">
  <div class="border-b-1 border-solid border-[#D4D4D4] relative">
    <h3 class=" text-[17px] uppercase text-[#1B1B1B] mb-2 pr-[130px]">investor commitments raised</h3>
    <div class="bar bg-[#D8F1F9] flex flex-col md:flex-row  justify-between" style="--target-width:55%">
      <h2 class="text-[21px] md:text-[21px] font-heading text-[#1B1B1B] absolute right-0 top-0 md:top-[14px]" data-target="6600">₹0+</h2>
    </div>
  </div>

  <div class="border-b-1 border-solid border-[#D4D4D4] relative  mt-[30px]">
    <h3 class=" text-[17px] uppercase text-[#1B1B1B] mb-2 pr-[130px]">investments deployed</h3>
    <div class="bar bg-[#DDDDDD] flex flex-col md:flex-row  justify-between " style="--target-width:70%">
      <h2 class="text-[21px] md:text-[21px] font-heading text-[#1B1B1B] absolute right-0 top-0 md:top-[14px]" data-target="11000">₹0+</h2>
    </div>
  </div>
  <div class="border-b-1 border-solid border-[#D4D4D4] relative mt-[30px]">
    <h3 class=" text-[17px] uppercase text-[#1B1B1B] mb-2 pr-[130px]">assets under management</h3>
    <div class="bar bg-[#00018A] flex flex-col md:flex-row  justify-between" style="--target-width:35%">
      <h2 class="text-[21px] md:text-[21px] font-heading text-[#1B1B1B] absolute right-0 top-0 md:top-[14px]" data-target="4200">₹0+</h2>
    </div>
  </div>

  <div class="border-b-1 border-solid border-[#D4D4D4] relative  mt-[30px]">
    <h3 class=" text-[17px] uppercase text-[#1B1B1B] mb-2 pr-[130px]">principal repaid</h3>
    <div class="bar bg-[#BFBFE1] flex flex-col md:flex-row  justify-between " style="--target-width:25%">
      <h2 class="text-[21px] md:text-[21px] font-heading text-[#1B1B1B] absolute right-0 top-0 md:top-[14px]" data-target="1675">₹0+ cr</h2>
    </div>
  </div>
</div>


<div class="w-full lg:w-1/2">
  <div class="border-b-1 border-solid border-[#D4D4D4] relative">
    <h3 class=" text-[17px] uppercase text-[#1B1B1B] mb-2 pr-[130px]">investors served</h3>
    <div class="bar bg-[#EDEDED] flex flex-col md:flex-row  justify-between" style="--target-width:70%">
      <h2 class="text-[21px] md:text-[21px] font-heading text-[#1B1B1B] absolute right-0 top-0 md:top-[14px]" data-target="1600">0+</h2>
    </div>
  </div>

  <div class="border-b-1 border-solid border-[#D4D4D4] relative  mt-[30px]">
    <h3 class=" text-[17px] uppercase text-[#1B1B1B] mb-2 pr-[130px]">unique enterprises supported</h3>
    <div class="bar bg-[#3BBAE2] flex flex-col md:flex-row  justify-between " style="--target-width:60%">
      <h2 class="text-[21px] md:text-[21px] font-heading text-[#1B1B1B] absolute right-0 top-0 md:top-[14px]" data-target="100">0+</h2>
    </div>
  </div>

  <div class="border-b-1 border-solid border-[#D4D4D4] relative  mt-[30px] hidden">
    <h3 class=" text-[17px] uppercase text-[#1B1B1B] mb-2 pr-[130px]">weighted average rating</h3>
    <div class="bar bg-[#00018a91] flex flex-col md:flex-row  justify-between " style="--target-width:50%">
      <h2 class="text-[21px] md:text-[21px] font-heading text-[#1B1B1B] absolute right-0 top-0 md:top-[14px]" data-target="888">0+</h2>
    </div>
  </div>

  <div class="border-b-1 border-solid border-[#D4D4D4] relative  mt-[30px]">
    <h3 class=" text-[17px] uppercase text-[#1B1B1B] mb-2 pr-[130px]">weighted average yield on assets 
under management</h3>
    <div class="bar bg-[#3bbae27d] flex flex-col md:flex-row  justify-between " style="--target-width:90%">
      <h2 class="text-[21px] md:text-[21px] font-heading text-[#1B1B1B] absolute right-0 top-[14px]" data-format="percent" data-target="14.5">~0%</h2>
    </div>
  </div>


</div>
</div>            



   
        </div>
      </div>
    </div>
  </div>
</div>
</div>
<style>
.border_full_side{
    border: dashed 1px #F58220;
}
  @keyframes growBar {
    from { width: 0%; }
    to { width: var(--target-width); }
  }
  .bar {
    width: 0%;
    overflow: hidden;
    animation: growBar 0.8s ease-out forwards;
    animation-play-state: paused;
    display: flex;
    justify-content: space-between;
    min-height: 23px;
  }
  .bar-text {
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 0.4s ease-out, transform 0.4s ease-out;
  }
  .show-text .bar-text {
    opacity: 1;
    transform: translateY(0);
  }
    @media (max-width: 650px) {
      .bar h2{
        line-height: 36px;
      }
      .bar h3{
        line-height: 19px;
        font-size: 15px;
      }
    }
</style>

<script is:inline>
document.addEventListener("DOMContentLoaded", () => {
  const bars = document.querySelectorAll(".bar");

function countUp2(element, target, isPercent = false, duration = 1000) {
  let start = 0;
  const decimals = target % 1 !== 0 ? 1 : 0; // detect if decimal needed
  const increment = target / (duration / 16);

  const timer = setInterval(() => {
    start += increment;
    if (start >= target) {
      start = target;
      clearInterval(timer);
    }

    if (isPercent) {
      element.textContent = `~${start.toFixed(decimals)}%`;
    } else if (decimals > 0) {
      element.textContent = start.toFixed(decimals); // keep decimal
    } else {
      element.textContent = `${Math.floor(start).toLocaleString()}+`;
    }
  }, 16);
}

  const observer = new IntersectionObserver(
    entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const bar = entry.target;
          bar.style.animationPlayState = "running";

          const num = bar.querySelector("[data-target]");
          if (num) {
            const target = parseFloat(num.dataset.target);
            const isPercent = num.dataset.format === "percent";
            countUp2(num, target, isPercent);
          }

          observer.unobserve(bar);
        }
      });
    },
    { threshold: 0.3 }
  );

  bars.forEach(bar => observer.observe(bar));
});
</script>